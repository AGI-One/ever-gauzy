<div class="employee-avatar-wrapper">
	<div class="avatar-stack">
		<ng-container *ngFor="let employee of employees; let i = index">
			<a
				class="avatar"
				*ngIf="employee?.user"
				(click)="
					selectEmployee(employee, employee.user.firstName, employee.user.lastName, employee.user.imageUrl)
				"
				[ngStyle]="{ 'z-index': employees.length - i }"
				[attr.title]="employee.user.firstName + ' ' + employee.user.lastName"
			>
				<img
					class="avatar-image"
					[src]="employee.user.imageUrl || '/assets/images/avatar-default.svg'"
					[alt]="employee.user.firstName + ' ' + employee.user.lastName"
				/>
			</a>
		</ng-container>

		<!-- Show count of additional employees if there are more than maxVisible -->
		<div *ngIf="remainingCount > 0" class="avatar count-badge">
			<span>+{{ remainingCount }}</span>
		</div>
	</div>
</div>
