<div class="edit-tenant-container">
	<div class="header mb-4">
		<h3>{{ 'PLATFORM_ADMIN.TENANTS.EDIT.TITLE' | translate }}</h3>
		<p class="text-muted">{{ 'PLATFORM_ADMIN.TENANTS.EDIT.SUBTITLE' | translate }}</p>
	</div>

	<nb-card *ngIf="loading && !tenant">
		<nb-card-body class="text-center">
			<nb-spinner size="large" status="primary"></nb-spinner>
		</nb-card-body>
	</nb-card>

	<nb-card *ngIf="!loading || tenant">
		<nb-card-body>
			<form [formGroup]="form" (ngSubmit)="onSubmit()">
				<div class="form-section">
					<h5>{{ 'PLATFORM_ADMIN.TENANTS.EDIT.TENANT_INFO' | translate }}</h5>

					<div class="form-group">
						<label class="label">
							{{ 'PLATFORM_ADMIN.TENANTS.EDIT.TENANT_NAME' | translate }}
							<span class="required">*</span>
						</label>
						<input
							nbInput
							fullWidth
							type="text"
							formControlName="name"
							[status]="isFieldInvalid('name') ? 'danger' : 'basic'"
						/>
						<div *ngIf="isFieldInvalid('name')" class="error-message">
							{{ 'PLATFORM_ADMIN.TENANTS.EDIT.ERRORS.NAME_REQUIRED' | translate }}
						</div>
					</div>

					<div class="form-group">
						<label class="label">{{ 'PLATFORM_ADMIN.TENANTS.EDIT.LOGO_URL' | translate }}</label>
						<input nbInput fullWidth type="text" formControlName="logoUrl" />
					</div>

					<div class="form-group">
						<label class="label">{{ 'PLATFORM_ADMIN.TENANTS.EDIT.EXPIRES_AT' | translate }}</label>
						<input nbInput fullWidth type="datetime-local" formControlName="expiresAt" />
					</div>

					<div class="form-group">
						<nb-checkbox formControlName="isActive">
							{{ 'PLATFORM_ADMIN.TENANTS.EDIT.IS_ACTIVE' | translate }}
						</nb-checkbox>
					</div>
				</div>

				<div class="form-actions">
					<button nbButton status="basic" type="button" (click)="cancel()" [disabled]="loading">
						{{ 'PLATFORM_ADMIN.TENANTS.EDIT.CANCEL' | translate }}
					</button>
					<button nbButton status="primary" type="submit" [disabled]="loading">
						<nb-icon *ngIf="loading" icon="loader-outline" class="spin"></nb-icon>
						{{ 'PLATFORM_ADMIN.TENANTS.EDIT.UPDATE_TENANT' | translate }}
					</button>
				</div>
			</form>
		</nb-card-body>
	</nb-card>
</div>
