<div class="create-tenant-container">
	<!-- Header -->
	<div class="header mb-4">
		<h3>{{ 'PLATFORM_ADMIN.TENANTS.CREATE.TITLE' | translate }}</h3>
		<p class="text-muted">{{ 'PLATFORM_ADMIN.TENANTS.CREATE.SUBTITLE' | translate }}</p>
	</div>

	<!-- Form Card -->
	<nb-card>
		<nb-card-body>
			<form [formGroup]="form" (ngSubmit)="onSubmit()">
				<!-- Tenant Information -->
				<div class="form-section">
					<h5>{{ 'PLATFORM_ADMIN.TENANTS.CREATE.TENANT_INFO' | translate }}</h5>

					<div class="form-group">
						<label class="label">
							{{ 'PLATFORM_ADMIN.TENANTS.CREATE.TENANT_NAME' | translate }}
							<span class="required">*</span>
						</label>
						<input
							nbInput
							fullWidth
							type="text"
							formControlName="name"
							[placeholder]="'PLATFORM_ADMIN.TENANTS.CREATE.TENANT_NAME_PLACEHOLDER' | translate"
							[status]="isFieldInvalid('name') ? 'danger' : 'basic'"
						/>
						<div *ngIf="isFieldInvalid('name')" class="error-message">
							{{ 'PLATFORM_ADMIN.TENANTS.CREATE.ERRORS.NAME_REQUIRED' | translate }}
						</div>
					</div>

					<div class="form-group">
						<label class="label">
							{{ 'PLATFORM_ADMIN.TENANTS.CREATE.LOGO_URL' | translate }}
						</label>
						<input
							nbInput
							fullWidth
							type="text"
							formControlName="logoUrl"
							[placeholder]="'PLATFORM_ADMIN.TENANTS.CREATE.LOGO_URL_PLACEHOLDER' | translate"
						/>
					</div>

					<div class="form-group">
						<label class="label">
							{{ 'PLATFORM_ADMIN.TENANTS.CREATE.EXPIRES_AT' | translate }}
						</label>
						<input nbInput fullWidth type="datetime-local" formControlName="expiresAt" />
						<small class="form-text text-muted">
							{{ 'PLATFORM_ADMIN.TENANTS.CREATE.EXPIRES_AT_HINT' | translate }}
						</small>
					</div>
				</div>

				<!-- Super Admin Information -->
				<div class="form-section" formGroupName="superAdmin">
					<h5>{{ 'PLATFORM_ADMIN.TENANTS.CREATE.SUPER_ADMIN_INFO' | translate }}</h5>

					<div class="form-row">
						<div class="form-group col-6">
							<label class="label">
								{{ 'PLATFORM_ADMIN.TENANTS.CREATE.FIRST_NAME' | translate }}
							</label>
							<input
								nbInput
								fullWidth
								type="text"
								formControlName="firstName"
								[placeholder]="'PLATFORM_ADMIN.TENANTS.CREATE.FIRST_NAME_PLACEHOLDER' | translate"
							/>
						</div>

						<div class="form-group col-6">
							<label class="label">
								{{ 'PLATFORM_ADMIN.TENANTS.CREATE.LAST_NAME' | translate }}
							</label>
							<input
								nbInput
								fullWidth
								type="text"
								formControlName="lastName"
								[placeholder]="'PLATFORM_ADMIN.TENANTS.CREATE.LAST_NAME_PLACEHOLDER' | translate"
							/>
						</div>
					</div>

					<div class="form-group">
						<label class="label">
							{{ 'PLATFORM_ADMIN.TENANTS.CREATE.EMAIL' | translate }}
							<span class="required">*</span>
						</label>
						<input
							nbInput
							fullWidth
							type="email"
							formControlName="email"
							[placeholder]="'PLATFORM_ADMIN.TENANTS.CREATE.EMAIL_PLACEHOLDER' | translate"
							[status]="isNestedFieldInvalid('superAdmin', 'email') ? 'danger' : 'basic'"
						/>
						<div *ngIf="isNestedFieldInvalid('superAdmin', 'email')" class="error-message">
							{{ 'PLATFORM_ADMIN.TENANTS.CREATE.ERRORS.EMAIL_INVALID' | translate }}
						</div>
					</div>

					<div class="form-group">
						<label class="label">
							{{ 'PLATFORM_ADMIN.TENANTS.CREATE.PASSWORD' | translate }}
							<span class="required">*</span>
						</label>
						<input
							nbInput
							fullWidth
							type="password"
							formControlName="password"
							[placeholder]="'PLATFORM_ADMIN.TENANTS.CREATE.PASSWORD_PLACEHOLDER' | translate"
							[status]="isNestedFieldInvalid('superAdmin', 'password') ? 'danger' : 'basic'"
						/>
						<div *ngIf="isNestedFieldInvalid('superAdmin', 'password')" class="error-message">
							{{ 'PLATFORM_ADMIN.TENANTS.CREATE.ERRORS.PASSWORD_MIN_LENGTH' | translate }}
						</div>
					</div>
				</div>

				<!-- Actions -->
				<div class="form-actions">
					<button nbButton status="basic" type="button" (click)="cancel()" [disabled]="loading">
						{{ 'PLATFORM_ADMIN.TENANTS.CREATE.CANCEL' | translate }}
					</button>
					<button nbButton status="primary" type="submit" [disabled]="loading">
						<nb-icon *ngIf="loading" icon="loader-outline" class="spin"></nb-icon>
						{{ 'PLATFORM_ADMIN.TENANTS.CREATE.CREATE_TENANT' | translate }}
					</button>
				</div>
			</form>
		</nb-card-body>
	</nb-card>
</div>
